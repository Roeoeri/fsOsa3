(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,n,t){e.exports=t(42)},19:function(e,n,t){},21:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),i=t(11),o=t.n(i),r=(t(19),t(12)),l=t(2),c=(t(21),t(3)),m=t.n(c),s="/api/persons/",f=function(){return m.a.get(s)},d=function(e){return m.a.post(s,e)},v=function(e,n){return m.a.put(s+e,n)},b=function(e){return m.a.delete(s+e)},p=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"pass"},n)},h=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"error"},n)},E=function(e){return u.a.createElement("div",null,e.person.name," ",e.person.number,u.a.createElement(w,{poista:e.poista}))},g=function(e){return e.allPersons.filter(function(n){return n.name.toLowerCase().includes(e.newFilter.toLowerCase())}).map(function(n){return u.a.createElement(E,{poista:function(){e.poista(n.id)},key:n.id,person:n})})},w=function(e){return u.a.createElement("button",{onClick:e.poista}," Poista ")},j=function(e){return u.a.createElement("input",{value:e.value,onChange:e.handler})},k=function(e){return u.a.createElement("form",{onSubmit:e.submit},u.a.createElement("div",null,e.nimiEka,u.a.createElement("input",{value:e.value1,onChange:e.onChangeName})),u.a.createElement("div",null," ",e.nimiToka,u.a.createElement("input",{value:e.value2,onChange:e.onChangeNumber})),u.a.createElement("button",{type:e.buttonType},e.buttonName))},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(""),c=Object(l.a)(o,2),m=c[0],s=c[1],E=Object(a.useState)(""),w=Object(l.a)(E,2),O=w[0],N=w[1],C=Object(a.useState)(""),T=Object(l.a)(C,2),S=T[0],y=T[1],H=Object(a.useState)(null),P=Object(l.a)(H,2),L=P[0],B=P[1],F=Object(a.useState)(null),J=Object(l.a)(F,2),W=J[0],x=J[1];Object(a.useEffect)(function(){f().then(function(e){i(e.data)})},[]);var D=function(e,n){var a=t.find(function(n){return n.id===e}),u=Object(r.a)({},a,{number:n});v(e,u).then(function(n){i(t.map(function(t){return t.id!==e?t:n.data})),B("Henkil\xf6n "+I(e)+" tietoja muutettin"),setTimeout(function(){B(null)},5e3)}).catch(function(n){x("Henkil\xf6 "+I(e)+" on jo poistettu"),i(t.filter(function(n){return n.id!==e})),setTimeout(function(){x(null)},5e3)})},I=function(e){for(var n,a=0;a<t.length;a++)t[a].id===e&&(n=t[a].name);return n};return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(p,{message:L}),u.a.createElement(h,{message:W}),"Hae nimist\xe4:",u.a.createElement(j,{value:S,handler:function(e){y(e.target.value)}}),u.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),u.a.createElement(k,{submit:function(e){e.preventDefault();for(var n={name:m,number:O},a=0;a<t.length;a++)if(t[a].name===m){if(window.confirm("".concat(m," on jo luettelossa, korvataanko vanha numero uudella ?"))){var u=t[a].id;D(u,n.number)}return s(""),void N("")}d(n).then(function(e){i(t.concat(e.data)),s(""),N(""),B("Henkil\xf6 "+n.name+" lis\xe4ttiin"),setTimeout(function(){B(null)},5e3)})},nimiEka:"Nimi: ",value1:m,onChangeName:function(e){s(e.target.value)},nimiToka:"Numero: ",value2:O,onChangeNumber:function(e){N(e.target.value)},buttonType:"submit",buttonName:"lis\xe4\xe4"}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(g,{poista:function(e){window.confirm("Poistetaanko "+I(e)+" ?")&&b(e).then(function(n){i(t.filter(function(n){return n.id!==e})),B("Henkil\xf6 "+I(e)+" poistettiin"),setTimeout(function(){B(null)},5e3)}).catch(function(n){x("Henkil\xf6 "+I(e)+" on jo poistettu"),i(t.filter(function(n){return n.id!==e})),setTimeout(function(){x(null)},5e3)})},allPersons:t,newFilter:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(u.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,2,1]]]);
//# sourceMappingURL=main.3642813e.chunk.js.map